---
description: IndexAll Web 前端开发规范。编辑 web 包时自动加载，提供 UI 布局和交互的关键约定。
globs: packages/web/**
alwaysApply: false
---

# IndexAll Web 前端开发规范

## 开始前必读

- 涉及 UI 实现 → 先读 `UI_DESIGN.md`（布局、组件、交互细节）
- 需要调用 API → 先读 `API_DESIGN.md`（"客户端调用场景 → Web UI 使用的接口"部分）

## UI 框架

- React + TailwindCSS + shadcn/ui
- **单页应用，无路由跳转**，所有操作在同一视图内完成

## 布局结构

- 顶栏: Logo + 全局搜索栏（居中） + 添加资源按钮（右侧）
- 左侧: 标签树面板（可折叠），顶部有"全部资源"和"未分类"虚拟节点
- 右侧: 资源列表（默认按时间倒序），底部分页
- 弹窗: 添加/编辑资源对话框、编辑标签对话框

## 关键交互

- **标签树 DAG 展示**: 同一标签在所有父标签下**平等出现**，无主次区分，hover tooltip 提示多父关系
- **标签选择器 (TagPicker)**: 全局复用组件，输入即搜标签名+别名，无精确匹配时显示"新建标签"选项
- **搜索**: debounce 300ms，搜索时清除标签选中，清空搜索栏恢复之前的标签筛选
- **资源卡片**: 标题可点击跳转，标签胶囊可点击筛选，hover 显示编辑/删除按钮

## 响应式

| 视口 | 布局 |
|---|---|
| ≥1024px | 左右分栏，标签树常驻 |
| 768-1023px | 标签树折叠为侧边抽屉 |
| <768px | 标签树全屏抽屉，资源列表单栏 |

## 变更后维护

- 新增/修改 UI 组件或交互模式 → 更新 `UI_DESIGN.md`
